<div class="panel-body" [formGroup]="formGroup">
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container [required]="true" label="DTE Status:" [message]="displayMessage.dteStatus">
        <select class="form-control" tabindex='41' formControlName="dteStatus">
          <option value="">Select DTE Status </option>
          <option *ngFor="let ac of dteStatus$ | async" [value]="ac.id">{{ac.description}}</option>
        </select>
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container [required]="true" label="Total Ship Time:" [message]="displayMessage.totalShipTime">
        <input type="text" tabindex='10' class="form-control" [textMask]="{mask: decimalNumberMask}" formControlName="totalShipTime">
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container [required]="true" label="Cycles:" [message]="displayMessage.cycles">
        <input type="text" tabindex='11' class="form-control" [textMask]="{mask: numberMask}" formControlName="cycles">
      </aac-field-container>
    </div>
  </div>






  <div class="row">
    <div class="col-sm-6">
      <aac-field-container [required]="true" label="Repair Insp. Status:" [message]="displayMessage.repairInspectionStatus">
        <select class="form-control" tabindex='41' formControlName="repairInspectionStatus">
          <option value="">Select Repair Inspection Status</option>
          <option *ngFor="let ac of repairInspectionStatus$ | async" [value]="ac.id">{{ac.description}}</option>
        </select>
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <div class="row form-group">
        <label class="col-sm-4 control-label">Fatigue Critical<span class="req">*</span></label>
        <div class="col-sm-8">
          <aac-radio-container label="Yes">
            <input type="radio" [value]="true" tabindex="36" formControlName="isFatigueCritical" />
          </aac-radio-container>
          <aac-radio-container label="No">
            <input type="radio" [value]="false" tabindex="36" formControlName="isFatigueCritical" />
          </aac-radio-container>
          <div *ngIf="displayMessage.isFatigueCritical" class="error">{{displayMessage.isFatigueCritical}}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container [required]="true" label="Stage 1/RTS Date:" [attr.for]="stage1RTSDate.idDatePicker" [message]="displayMessage.stage1RTSDate">
        <datetime [timepicker]="false" [readonly]="formGroup.get('stage1RTSDate').disabled?true:null" #stage1RTSDate [tabindex]='3' formControlName="stage1RTSDate" [datepicker]="{ icon: 'glyphicon glyphicon-calendar',autoclose:true }"></datetime>
      </aac-field-container>

    </div>
  </div>
  <div class="row form-group">
    <div class="col-sm-3">
      <aac-radio-container label="6 Months">
        <input type="radio" [value]="6" tabindex="36" formControlName="stage1Duration" />
      </aac-radio-container>
    </div>
    <div class="col-sm-3">
      <aac-radio-container label="12 Months">
        <input type="radio" [value]="12" tabindex="36" formControlName="stage1Duration" />
      </aac-radio-container>
    </div>
    <div class="col-sm-3">
      <aac-radio-container label="18 Months">
        <input type="radio" [value]="18" tabindex="36" formControlName="stage1Duration" />
      </aac-radio-container>
    </div>
    <div class="col-sm-3">
      <aac-radio-container label="24 Months">
        <input type="radio" [value]="24" tabindex="36" formControlName="stage1Duration" />
      </aac-radio-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container label="Stage 2 Approval Date:" [attr.for]="stage2Date.idDatePicker">
        <datetime [timepicker]="false" [readonly]="formGroup.get('stage2Date').disabled?true:null" #stage2Date [tabindex]='3' formControlName="stage2Date" [datepicker]="{ icon: 'glyphicon glyphicon-calendar',autoclose:true }"></datetime>
      </aac-field-container>
    </div>
    <div class="col-sm-6">
      <aac-field-container label="Stage 3 Approval Date:" [attr.for]="stage3Date.idDatePicker">
        <datetime [timepicker]="false" [readonly]="formGroup.get('stage3Date').disabled?true:null" #stage3Date [tabindex]='3' formControlName="stage3Date" [datepicker]="{ icon: 'glyphicon glyphicon-calendar',autoclose:true }"></datetime>
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <aac-field-container label="SR #:" [message]="displayMessage.srNumber">
        <input class="form-control" formControlName="srNumber">
      </aac-field-container>
    </div>
    <div class="col-sm-4">
      <aac-field-container label="RDAS #:" [message]="displayMessage.rdasNumber">
        <input class="form-control" formControlName="rdasNumber">
      </aac-field-container>
    </div>
    <div class="col-sm-4">
      <aac-field-container label="ETD #:" [message]="displayMessage.etdNumber">
        <input class="form-control" formControlName="etdNumber">
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container label="ESM Sub/Item #:" [message]="displayMessage.esmSubItemNumber">
        <input class="form-control" formControlName="esmSubItemNumber">
      </aac-field-container>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <div class="panel-group">
        <aa-dte-threshold-items-array formArrayName="thresholdItems"
                                      [editable]="editable"
                                      [errorMessages]="displayMessage?.thresholdItems"
                                      [itemsFormArray]="formGroup.get('thresholdItems')">
        </aa-dte-threshold-items-array>
        <aa-dte-monitor-items-array formArrayName="monitorItems"
                                    [editable]="editable"
                                    [errorMessages]="displayMessage?.monitorItems"
                                    [itemsFormArray]="formGroup.get('monitorItems')">
        </aa-dte-monitor-items-array>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <aac-field-container label="DTE Comments:" [message]="displayMessage.comments">
        <textarea class="form-control" rows="5" cols="50" formControlName="comments"></textarea>
      </aac-field-container>
    </div>
    <div class="col-sm-6">
      <aac-field-container label="QC Feedback:" [message]="displayMessage.qcFeedback">
        <textarea class="form-control" rows="5" cols="50" formControlName="qcFeedback"></textarea>
      </aac-field-container>
      <aac-checkbox-container label="Submit to QC">
        <input type="checkbox" tabindex="112" formControlName="submittedToQC" />
      </aac-checkbox-container>
    </div>
  </div>
  <div class="row form-group">
    <div class="col-sm-12">
      <h3>Attachments:</h3>
      <table class="table">
        <thead>
          <tr>
            <th width="50%">Name</th>
            <th>Size</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let attachment of getAttachments().controls;let j=index">
            <td><strong>
              <a href="/{{attachment.get('attachmentPath').value}}" target="_blank">{{ attachment.get('attachmentName').value }}</a>
              </strong></td>
            <td nowrap>{{ attachment.get('attachmentSize').value | byteFmt: 2 }}</td>
            <td nowrap>
              <button type="button" class="btn btn-danger btn-xs"
                      (click)="deleteAttachment(j)" *ngIf="editable">
                <span class="glyphicon glyphicon-trash"></span> Remove
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="progress" *ngIf="uploader.progress > 0 && uploader.progress < 100">
        <div class="progress-bar"  role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
      </div>
      <div>
        <label class="btn btn-primary btn-file" *ngIf="editable">
          Add Attachment <input type="file" ng2FileSelect [uploader]="uploader" style="display: none;">
        </label>
      </div>

    </div>
  </div>

  <div class="row">
    <div class="col-sm-4">
      <aac-field-container class="col-sm-12 padding-0" label="Major Repair Updated By:" [message]="displayMessage.updatedBy">
        <div padding-0 >
          <div class="col-sm-4 padding-0">
            <input type="text"  class="form-control" formControlName="updatedByEmpID" placeholder="Employee ID" >
           </div>
           <div class="col-sm-2 padding-0 width-20">_</div>
           <div class="col-sm-6 padding-0">
            <input type="text"  class="form-control"  placeholder="Last Name, First Name" formControlName="updatedByName" >
          </div>
        </div>
      </aac-field-container>
    </div>
    <div class="col-sm-4">
      <aac-field-container label="Major Repair Updated Date:" [attr.for]="updatedDate.idDatePicker" [message]="displayMessage.updatedDate">
        <datetime [timepicker]="false" [readonly]="true" #updatedDate [tabindex]='3' formControlName="updatedDate" [datepicker]="{ icon: 'glyphicon glyphicon-calendar',autoclose:true }"></datetime>
      </aac-field-container>
    </div>
    <div class="col-sm-4">
      <aac-field-container label="DTE Due Date:" [message]="displayMessage.dueDate">
        <input class="form-control" formControlName="dueDate">
      </aac-field-container>
    </div>
  </div>
</div>
